<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Juego de Phrasal Verbs</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-r from-blue-200 to-purple-200 min-h-screen flex items-center justify-center">

  <div id="game" class="bg-white shadow-lg rounded-lg p-8 max-w-md w-full text-center">
    <h1 class="text-2xl font-bold mb-4">Juego de Phrasal Verbs</h1>

    <!-- SelecciÃ³n de Nivel -->
    <div id="level-selection" class="mb-6">
      <p class="mb-2">Elige tu nivel:</p>
      <button onclick="startGame('principiante')" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 m-1">Principiante</button>
      <button onclick="startGame('intermedio')" class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 m-1">Intermedio</button>
      <button onclick="startGame('avanzado')" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 m-1">Avanzado</button>
    </div>

    <!-- Quiz -->
    <div id="quiz" style="display: none;">
      <div class="mb-4">
        <div id="image" class="h-32 flex items-center justify-center mb-4 text-6xl">
          <!-- La imagen se insertarÃ¡ aquÃ­ -->
        </div>
        <h2 id="phrasalVerb" class="text-xl font-semibold"></h2>
      </div>
      <div id="options" class="grid grid-cols-2 gap-4 mb-4">
        <!-- Las opciones se insertarÃ¡n aquÃ­ -->
      </div>
      <div id="feedback" class="text-lg font-bold mb-4"></div>
    </div>

    <!-- Marcador Final -->
    <div id="scoreboard" style="display: none;">
      <h2 class="text-xl font-semibold mb-2">Â¡Juego terminado!</h2>
      <p id="finalScore" class="mb-2"></p>
      <div id="finalEmoji" class="text-4xl mb-4"></div>
      <button onclick="restartGame()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Jugar de nuevo</button>
    </div>
  </div>

  <script>
    // DefiniciÃ³n de los niveles con variantes de get, come, break, go, look y bring
    const levels = {
      principiante: [
        // Variantes de get
        { verb: 'get up', meaning: 'levantarse', image: 'ðŸ›ï¸' },
        { verb: 'get in', meaning: 'entrar', image: 'ðŸšª' },
        { verb: 'get out', meaning: 'salir', image: 'ðŸš—' },
        { verb: 'come in', meaning: 'entrar', image: 'ðŸšª' },
        { verb: 'come back', meaning: 'regresar', image: 'ðŸ”™' },
        { verb: 'break down', meaning: 'averiarse', image: 'ðŸš—ðŸ’¥' },
        { verb: 'go on', meaning: 'continuar', image: 'âž¡ï¸' },
        { verb: 'go out', meaning: 'salir', image: 'ðŸƒâ€â™‚ï¸' },
        { verb: 'look for', meaning: 'buscar', image: 'ðŸ‘€' },
        { verb: 'look out', meaning: 'tener cuidado', image: 'âš ï¸' },
        { verb: 'bring up', meaning: 'mencionar', image: 'ðŸ—£ï¸' },
        { verb: 'bring back', meaning: 'devolver', image: 'ðŸŽ' },
        // Otros verbos
        { verb: 'turn on', meaning: 'encender', image: 'ðŸ’¡' },
        { verb: 'turn off', meaning: 'apagar', image: 'ðŸ”Œ' },
        { verb: 'sit down', meaning: 'sentarse', image: 'ðŸª‘' },
        { verb: 'stand up', meaning: 'ponerse de pie', image: 'ðŸ•´ï¸' },
        { verb: 'pick up', meaning: 'recoger', image: 'ðŸ›ï¸' },
        { verb: 'give up', meaning: 'rendirse', image: 'ðŸ³ï¸' },
        { verb: 'hold on', meaning: 'esperar', image: 'â³' },
        { verb: 'wake up', meaning: 'despertarse', image: 'â°' },
      ],
      intermedio: [
        // Variantes de get
        { verb: 'get along', meaning: 'llevarse bien', image: 'ðŸ¤' },
        { verb: 'get over', meaning: 'superar', image: 'ðŸ†' },
        { verb: 'get away', meaning: 'escaparse', image: 'ðŸƒâ€â™€ï¸' },
        { verb: 'come across', meaning: 'encontrarse con', image: 'ðŸ‘‹' },
        { verb: 'come up with', meaning: 'ocurrirse', image: 'ðŸ’¡' },
        { verb: 'break up', meaning: 'romper una relaciÃ³n', image: 'ðŸ’”' },
        { verb: 'go ahead', meaning: 'seguir adelante', image: 'ðŸƒ' },
        { verb: 'go over', meaning: 'repasar', image: 'ðŸ“–' },
        { verb: 'look after', meaning: 'cuidar de', image: 'ðŸ‘¶' },
        { verb: 'look forward to', meaning: 'esperar con ansias', image: 'ðŸ¤©' },
        { verb: 'bring about', meaning: 'provocar', image: 'ðŸ”¥' },
        { verb: 'bring up', meaning: 'criar', image: 'ðŸ‘¨â€ðŸ‘©â€ðŸ‘§' },
        // Otros verbos
        { verb: 'figure out', meaning: 'descifrar', image: 'ðŸ§' },
        { verb: 'pass out', meaning: 'desmayarse', image: 'ðŸ˜µ' },
        { verb: 'let down', meaning: 'decepcionar', image: 'ðŸ˜ž' },
        { verb: 'make up', meaning: 'inventar', image: 'ðŸ’¡' },
        { verb: 'run into', meaning: 'tropezar con', image: 'ðŸ¤•' },
        { verb: 'take off', meaning: 'despegar', image: 'âœˆï¸' },
        { verb: 'work out', meaning: 'ejercitarse', image: 'ðŸ‹ï¸' },
        { verb: 'put off', meaning: 'posponer', image: 'ðŸ“…' },
      ],
      avanzado: [
        // Variantes de get
        { verb: 'get by', meaning: 'arreglÃ¡rselas', image: 'ðŸ’ª' },
        { verb: 'get down to', meaning: 'ponerse a trabajar', image: 'ðŸ“' },
        { verb: 'get through', meaning: 'superar', image: 'ðŸŽ“' },
        { verb: 'come down with', meaning: 'caer enfermo de', image: 'ðŸ¤’' },
        { verb: 'come up against', meaning: 'enfrentarse a', image: 'ðŸ›¡ï¸' },
        { verb: 'break down', meaning: 'analizar', image: 'ðŸ“Š' },
        { verb: 'go without', meaning: 'pasar sin', image: 'ðŸš«' },
        { verb: 'go through with', meaning: 'llevar a cabo', image: 'âœ…' },
        { verb: 'look down on', meaning: 'menospreciar', image: 'ðŸ˜’' },
        { verb: 'look into', meaning: 'investigar', image: 'ðŸ”' },
        { verb: 'bring off', meaning: 'lograr', image: 'ðŸ†' },
        { verb: 'bring out', meaning: 'publicar', image: 'ðŸ“š' },
        // Otros verbos
        { verb: 'brush up on', meaning: 'refrescar conocimientos', image: 'ðŸ“–' },
        { verb: 'egg on', meaning: 'incitar', image: 'ðŸ—£ï¸ðŸ”¥' },
        { verb: 'iron out', meaning: 'resolver', image: 'ðŸ§º' },
        { verb: 'nail down', meaning: 'precisar', image: 'ðŸ“Œ' },
        { verb: 'pine for', meaning: 'aÃ±orar', image: 'ðŸŒ²â¤ï¸' },
        { verb: 'play down', meaning: 'restar importancia', image: 'â¬‡ï¸' },
        { verb: 'zero in on', meaning: 'centrarse en', image: 'ðŸŽ¯' },
        { verb: 'zone out', meaning: 'desconectarse', image: 'ðŸ˜´' },
      ],
    };

    // Variables globales
    let currentLevel = [];
    let score = 0;
    let rounds = 0;
    let usedVerbs = [];

    // Asignamos las funciones al objeto window para hacerlas globales
    window.startGame = function(level) {
      currentLevel = [...levels[level]];
      score = 0;
      rounds = 0;
      usedVerbs = [];
      document.getElementById('level-selection').style.display = 'none';
      document.getElementById('scoreboard').style.display = 'none';
      document.getElementById('quiz').style.display = 'block';
      nextQuestion();
    }

    window.nextQuestion = function() {
      if (rounds >= 10 || usedVerbs.length >= currentLevel.length) {
        endGame();
        return;
      }
      rounds++;
      document.getElementById('feedback').textContent = '';
      document.getElementById('feedback').className = 'text-lg font-bold mb-4';

      let availableVerbs = currentLevel.filter(item => !usedVerbs.includes(item.verb));
      let currentVerb = availableVerbs[Math.floor(Math.random() * availableVerbs.length)];
      usedVerbs.push(currentVerb.verb);

      let options = [currentVerb.meaning];
      while (options.length < 4) {
        let randomVerb = currentLevel[Math.floor(Math.random() * currentLevel.length)];
        if (!options.includes(randomVerb.meaning)) {
          options.push(randomVerb.meaning);
        }
      }
      options.sort(() => Math.random() - 0.5);

      document.getElementById('phrasalVerb').textContent = currentVerb.verb;
      document.getElementById('image').textContent = currentVerb.image;

      const optionsDiv = document.getElementById('options');
      optionsDiv.innerHTML = '';
      options.forEach(option => {
        let btn = document.createElement('button');
        btn.textContent = option;
        btn.className = 'bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600';
        btn.onclick = () => checkAnswer(option, currentVerb.meaning);
        optionsDiv.appendChild(btn);
      });
    }

    window.checkAnswer = function(selected, correct) {
      const feedback = document.getElementById('feedback');
      if (selected === correct) {
        score++;
        feedback.textContent = 'Â¡Correcto! ðŸ˜Š';
        feedback.classList.add('text-green-600');
      } else {
        feedback.textContent = `Incorrecto ðŸ˜¢ La respuesta correcta es: "${correct}".`;
        feedback.classList.add('text-red-600');
      }
      setTimeout(nextQuestion, 2000);
    }

    window.endGame = function() {
      document.getElementById('quiz').style.display = 'none';
      document.getElementById('scoreboard').style.display = 'block';
      document.getElementById('finalScore').textContent = `Tu puntuaciÃ³n final es ${score} de ${rounds}.`;

      const emoji = document.getElementById('finalEmoji');
      let message = '';
      if (score >= 8) {
        message = 'Â¡Excelente trabajo! ðŸŽ‰';
      } else if (score >= 5) {
        message = 'Â¡Buen intento! ðŸ˜Š';
      } else {
        message = 'Sigue practicando. ðŸ™ƒ';
      }
      emoji.textContent = message;
    }

    window.restartGame = function() {
      document.getElementById('level-selection').style.display = 'block';
      document.getElementById('scoreboard').style.display = 'none';
      document.getElementById('quiz').style.display = 'none';
    }
  </script>

</body>
</html>
